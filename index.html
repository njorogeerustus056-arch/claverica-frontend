<!DOCTYPE html>
<html lang="en">
  <head>
<script>
// SUPER NUCLEAR BLOCKER - v2.0
(function() {
    console.log('?? SUPER BLOCKER ACTIVATING...');
    
    // 1. DELETE force-localhost immediately
    delete window.forceLocalhostActive;
    delete window.forceLocalhost;
    delete window.overrideBackendURL;
    
    // 2. PREVENT exports error
    if (typeof exports === 'undefined') {
        window.exports = {};
        Object.defineProperty(window, 'exports', {
            value: {},
            writable: false,
            configurable: false
        });
    }
    if (typeof module === 'undefined') {
        window.module = { exports: {} };
        Object.defineProperty(window, 'module', {
            value: { exports: {} },
            writable: false,
            configurable: false
        });
    }
    
    // 3. INTERCEPT AND BLOCK force-localhost.js loading
    const originalCreateElement = document.createElement;
    document.createElement = function(tagName) {
        const element = originalCreateElement.call(document, tagName);
        if (tagName.toLowerCase() === 'script') {
            const originalSetAttribute = element.setAttribute;
            element.setAttribute = function(name, value) {
                if (name === 'src' && value && value.toString().includes('force-localhost')) {
                    console.error('?? BLOCKED script injection:', value);
                    return; // Don't set the attribute
                }
                return originalSetAttribute.call(this, name, value);
            };
        }
        return element;
    };
    
    // 4. MONITOR for any attempts to add the script
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
                if (node.nodeName === 'SCRIPT' && 
                    (node.src && node.src.includes('force-localhost') || 
                     node.innerHTML && node.innerHTML.includes('force-localhost'))) {
                    console.error('?? BLOCKED dynamic script injection');
                    node.parentNode.removeChild(node);
                }
            });
        });
    });
    observer.observe(document.documentElement, { childList: true, subtree: true });
    
    // 5. BLOCK ALL localhost fetch calls
    const originalFetch = window.fetch;
    window.fetch = function(url, options) {
        if (url && url.toString().includes('localhost:8000')) {
            console.error('?? BLOCKED localhost fetch:', url);
            // Redirect to your actual backend
            const newUrl = url.toString().replace(
                'http://localhost:8000', 
                'https://claverica.onrender.com'
            );
            return originalFetch.call(window, newUrl, options);
        }
        return originalFetch.call(window, url, options);
    };
    
    // 6. OVERRIDE XMLHttpRequest too
    const originalXHROpen = XMLHttpRequest.prototype.open;
    XMLHttpRequest.prototype.open = function(method, url) {
        if (url && url.includes('localhost:8000')) {
            console.error('?? BLOCKED localhost XHR:', url);
            arguments[1] = url.replace('http://localhost:8000', 'https://claverica.onrender.com');
        }
        return originalXHROpen.apply(this, arguments);
    };
    
    console.log('? SUPER BLOCKER ACTIVE - All systems secured');
})();
</script>
<script>
// NUCLEAR BLOCKER - Override everything
(function() {
    // Block any force-localhost code
    window.forceLocalhostActive = undefined;
    delete window.forceLocalhostActive;
    
    // Override module.exports to prevent errors
    if (typeof module !== 'undefined') {
        module.exports = {};
    }
    if (typeof exports !== 'undefined') {
        Object.defineProperty(exports, '__esModule', { value: true });
    }
    
    // Nuclear fetch override
    const originalFetch = window.fetch;
    window.fetch = function(url, options) {
        if (url && (url.toString().includes('localhost:8000') || url.toString().includes('force-localhost'))) {
            console.error('?? BLOCKED:', url);
            return Promise.reject(new Error('Blocked by nuclear blocker'));
        }
        return originalFetch.apply(this, arguments);
    };
    
    console.log('? Nuclear blocker active');
})();
</script>
<script>
// BLOCK force-localhost.js from executing
Object.defineProperty(window, 'forceLocalhostActive', {
    get: function() { return false; },
    set: function() { return false; },
    configurable: false
});
// Override fetch to prevent localhost calls
const originalFetch = window.fetch;
window.fetch = function(url, options) {
    if (url && url.toString().includes('localhost:8000')) {
        console.warn('Blocked localhost API call:', url);
        return Promise.reject(new Error('localhost calls disabled'));
    }
    return originalFetch.call(this, url, options);
};
console.log('force-localhost.js blocker active');
</script>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    \n</head>
  <body class="dark:bg-gray-900">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>




